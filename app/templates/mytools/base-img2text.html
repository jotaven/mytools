{% extends "base.html" %}
{% block body %}
<div class="bg-gray-100 flex items-center justify-center h-full md:h-[95vh]">
    <div>
        <div class="md:flex py-5 space-y-4 md:space-x-4 md:space-y-0 mx-4 pt-8 md:mx-10">
            <form action="" method="POST" enctype="multipart/form-data" class="bg-white p-6 rounded-lg shadow-md">
                {% csrf_token %}
                <label class="text-base text-gray-500 font-semibold mb-2 block">{% block titulo %}{% endblock titulo %}</label>
                <input type="file" id="file_upload" name="file_upload" accept="image/png, image/jpeg" required class="w-full text-gray-400 font-semibold text-sm bg-white border file:cursor-pointer cursor-pointer file:border-0 file:py-3 file:px-4 file:mr-4 file:bg-gray-100 file:hover:bg-gray-200 file:text-gray-500 rounded" />
                <p class="text-xs text-gray-400 mt-2">Apenas PNG e JPG s√£o permitidos.</p>
                <div class="w-full h-64 border border-gray-300 flex items-center justify-center">
                    <img id="preview" src="#" alt="Processed Image" class="max-w-full max-h-full hidden"/>
                </div>
                <button type="submit" class="flex bg-gray-800 hover:bg-gray-700 text-white text-base px-5 py-3 mt-5 outline-none rounded w-max cursor-pointer mx-auto font-[sans-serif]">Processar</button>
            </form>
            
            <div class="bg-white p-6 rounded-lg shadow-md w-full md:w-[29vw]">
                <h2 class="text-lg font-bold mb-4">Texto Processado</h2>
                <div class="w-full h-[30vh] md:h-[45vh] border border-gray-300 overflow-auto">
                    {% if image_text %}
                    <p class="text-gray-500 m-5">{{image_text}}</p>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="">
            {% if error %}
            <p class="p-4 my-4 mx-10 text-base leading-5 text-white bg-red-500 rounded-lg opacity-100 font-regular">{{error}}</p>
            {% endif %}
            <p class="p-4 my-4 mx-10 text-base leading-5 text-black bg-white rounded-lg opacity-100 font-regular">{% block description %}{% endblock description %}</p>
        </div>
    </div>
</div>
<svg id="wave" style="transform:rotate(180deg); transition: 0.3s" viewBox="0 0 1440 180" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 244, 246, 1)" offset="0%"></stop><stop stop-color="rgba(75.49, 75.49, 75.49, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)" d="M0,72L26.7,72C53.3,72,107,72,160,87C213.3,102,267,132,320,120C373.3,108,427,54,480,45C533.3,36,587,72,640,93C693.3,114,747,120,800,105C853.3,90,907,54,960,60C1013.3,66,1067,114,1120,126C1173.3,138,1227,114,1280,87C1333.3,60,1387,30,1440,33C1493.3,36,1547,72,1600,84C1653.3,96,1707,84,1760,66C1813.3,48,1867,24,1920,12C1973.3,0,2027,0,2080,15C2133.3,30,2187,60,2240,69C2293.3,78,2347,66,2400,78C2453.3,90,2507,126,2560,117C2613.3,108,2667,54,2720,30C2773.3,6,2827,12,2880,21C2933.3,30,2987,42,3040,54C3093.3,66,3147,78,3200,75C3253.3,72,3307,54,3360,54C3413.3,54,3467,72,3520,72C3573.3,72,3627,54,3680,66C3733.3,78,3787,120,3813,141L3840,162L3840,180L3813.3,180C3786.7,180,3733,180,3680,180C3626.7,180,3573,180,3520,180C3466.7,180,3413,180,3360,180C3306.7,180,3253,180,3200,180C3146.7,180,3093,180,3040,180C2986.7,180,2933,180,2880,180C2826.7,180,2773,180,2720,180C2666.7,180,2613,180,2560,180C2506.7,180,2453,180,2400,180C2346.7,180,2293,180,2240,180C2186.7,180,2133,180,2080,180C2026.7,180,1973,180,1920,180C1866.7,180,1813,180,1760,180C1706.7,180,1653,180,1600,180C1546.7,180,1493,180,1440,180C1386.7,180,1333,180,1280,180C1226.7,180,1173,180,1120,180C1066.7,180,1013,180,960,180C906.7,180,853,180,800,180C746.7,180,693,180,640,180C586.7,180,533,180,480,180C426.7,180,373,180,320,180C266.7,180,213,180,160,180C106.7,180,53,180,27,180L0,180Z"></path><defs><linearGradient id="sw-gradient-1" x1="0" x2="0" y1="1" y2="0"><stop stop-color="rgba(243, 244, 246, 1)" offset="0%"></stop><stop stop-color="rgba(243, 244, 246, 1)" offset="100%"></stop></linearGradient></defs><path style="transform:translate(0, 50px); opacity:0.9" fill="url(#sw-gradient-1)" d="M0,72L26.7,75C53.3,78,107,84,160,84C213.3,84,267,78,320,87C373.3,96,427,120,480,126C533.3,132,587,120,640,99C693.3,78,747,48,800,30C853.3,12,907,6,960,12C1013.3,18,1067,36,1120,57C1173.3,78,1227,102,1280,102C1333.3,102,1387,78,1440,78C1493.3,78,1547,102,1600,96C1653.3,90,1707,54,1760,57C1813.3,60,1867,102,1920,114C1973.3,126,2027,108,2080,111C2133.3,114,2187,138,2240,138C2293.3,138,2347,114,2400,102C2453.3,90,2507,90,2560,96C2613.3,102,2667,114,2720,120C2773.3,126,2827,126,2880,126C2933.3,126,2987,126,3040,111C3093.3,96,3147,66,3200,72C3253.3,78,3307,120,3360,135C3413.3,150,3467,138,3520,135C3573.3,132,3627,138,3680,141C3733.3,144,3787,144,3813,144L3840,144L3840,180L3813.3,180C3786.7,180,3733,180,3680,180C3626.7,180,3573,180,3520,180C3466.7,180,3413,180,3360,180C3306.7,180,3253,180,3200,180C3146.7,180,3093,180,3040,180C2986.7,180,2933,180,2880,180C2826.7,180,2773,180,2720,180C2666.7,180,2613,180,2560,180C2506.7,180,2453,180,2400,180C2346.7,180,2293,180,2240,180C2186.7,180,2133,180,2080,180C2026.7,180,1973,180,1920,180C1866.7,180,1813,180,1760,180C1706.7,180,1653,180,1600,180C1546.7,180,1493,180,1440,180C1386.7,180,1333,180,1280,180C1226.7,180,1173,180,1120,180C1066.7,180,1013,180,960,180C906.7,180,853,180,800,180C746.7,180,693,180,640,180C586.7,180,533,180,480,180C426.7,180,373,180,320,180C266.7,180,213,180,160,180C106.7,180,53,180,27,180L0,180Z"></path></svg>
{% block documentation %}
{% endblock documentation %}
{% endblock body %}
{% block scripts %}
<script>
    document.querySelector('input[type="file"]').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('preview');
                preview.src = e.target.result;
                preview.classList.remove('hidden');
            }
            reader.readAsDataURL(file);
        }
    });
</script>
{% endblock scripts %}
