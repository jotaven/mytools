{% extends "base.html" %}
{% block body %}

<div class="h-3/5 md:h-[80vh] flex flex-col items-center justify-center">
    <h1 class="text-4xl font-extrabold mb-4">{% block type %}{% endblock type %}</h1>
    <p class="text-lg text-gray-500 mb-8">{% block description %}{% endblock description %}</p>
    <form action="" method="POST">
        <div class="flex items-center justify-between">
            {% csrf_token %}
            <input type="text" id="text" name="text" placeholder="Digite algo" required class="block w-3/4 md:w-3/5 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500">
            <button type="submit" class="px-4 py-2 font-semibold text-white bg-blue-500 rounded-lg hover:bg-blue-600">Gerar</button>
        </div>
    </form>
    {% if imagem %}
    <div class="mt-4 w-[95%] md:w-1/2 lg:w-1/3 h-64 bg-gray-200 rounded-lg flex items-center justify-center">
        <img id="image-preview" src="data:image/png;base64,{{imagem}}" alt="Image Result" class="w-48 h-48 object-cover rounded">
        <form action="{% url "download_image" %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="imagem" id="imagem" value="{{imagem}}"><br>
            <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 mt-2 ml-5">Download</button>
        </form>
    </div>
    {% endif %}
    {% if error %}
    <p>{{error}}</p>
    {% endif %}
</div>

{% endblock body %}